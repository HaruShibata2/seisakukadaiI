<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>防災情報アプリ</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        /* 全体の余白調整 */
        body {
            margin: 0;
            padding-bottom: 60px;
        }

        /* メンバー情報リスト */
        .member-list {
            margin: 20px;
        }

        /* フッターアイコンのスタイル */
        .footer-icons {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background-color: #f8f9fa;
            padding: 10px 0;
            border-top: 1px solid #ddd;
        }

        .footer-icons button {
            background: none;
            border: none;
            font-size: 16px;
            color: #007bff;
            transition: color 0.2s;
            cursor: pointer;
        }

        .footer-icons button:hover {
            color: #0056b3;
        }

        .post-details {
            display: none;
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1 class="mb-4">防災情報アプリ</h1>
        
        <!-- メンバー情報リスト -->
        <div class="member-list">
            <h4>メンバー</h4>
            <h5>name 安否状態</h5>
        </div>
        
        <!-- 投稿一覧 -->
        <div class="container mt-4">
            <h1 class="mb-4">投稿一覧</h1>
            
            <!-- 投稿がない場合のメッセージ -->
            <div th:if="${posts.isEmpty()}" class="alert alert-warning">投稿がありません。</div>
            
            <!-- 投稿リストの表示 -->
            <div th:each="post : ${posts}" class="card mb-3">
                <div class="card-header">
                    <h2 th:text="${post.title}" class="card-title"></h2>
                    <p class="card-text">
                        <small class="text-muted" th:text="${post.createdAt}"></small>
                    </p>
                    <!-- 詳細表示ボタン -->
                    <button class="btn btn-link" onclick="toggleDetails('details-${post.id}')">詳細を表示</button>
                </div>
                <div id="details-${post.id}" class="post-details">
                    <p th:text="${post.description}" class="card-text"></p>
                    <p class="card-text">
                        <strong>投稿者:</strong> 
                        <span th:text="${post.user.username}"></span>
                    </p>
                    <p class="card-text">
                        <small class="text-muted" th:text="${post.createdAt}"></small>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- フッターアイコン -->
    <div class="footer-icons">
        <button onclick="location.href='/'">ホーム</button>
        <button onclick="location.href='bousaigamen'">防災画面</button>
        <button onclick="location.href='membermoto'">メンバー</button>
        <button onclick="location.href='group'">グループ</button>
        <button onclick="location.href='setting'">設定画面</button>
    </div>

    <!-- JavaScriptで詳細表示を切り替える -->
    <script>
        function toggleDetails(detailsId) {
            var detailsElement = document.getElementById(detailsId);
            if (detailsElement.style.display === "none" || detailsElement.style.display === "") {
                detailsElement.style.display = "block";
            } else {
                detailsElement.style.display = "none";
            }
        }
    </script>
</body>
</html>
